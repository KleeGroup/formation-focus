<!doctype html>
<html lang="fr">

<head>
	<title>Formation focus2</title>

	<meta name="description" content="Une formation sur Focus2">
	<meta name="author" content="Kleegroup">

	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/black.css" id="theme">

	<!-- Code syntax highlighting -->
	<link rel="stylesheet" href="lib/css/zenburn.css">

	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement( 'link' );
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
		document.getElementsByTagName( 'head' )[0].appendChild( link );
	</script>

	<!--[if lt IE 9]>
	<script src="lib/js/html5shiv.js"></script>
	<![endif]-->
	<link href='https://fonts.googleapis.com/css?family=Merriweather:700|Source+Sans+Pro:300,600,300italic,600italic|Source+Code+Pro:400,600' rel='stylesheet' type='text/css'>
	
	<style>
		.redTransparent{
			background-color: rgba(255, 0, 0, 0.5);
		}
		.blackTransparent{
			background-color: rgba(0, 0, 0, 0.5);
			padding: 12px !important;
		}
	</style>
</head>

<body>

	<div class="reveal">
		<div class="slides">

			<!-- Section générale sur focus -->
			<section>
				<section>
					<h1>Focus</h1>
					<p>
						<a href='http://get-focus.github.io/formation-focus/#/'>http://get-focus.github.io/formation-focus</a>
					</p>
				</section>
				
				<section>
					<h1>Pourquoi Focus?</h1>
				</section>
				
				<section data-background='https://i.ytimg.com/vi/M_WUvsFY9-4/maxresdefault.jpg'>
					<h2 class='blackTransparent'>Klee fait des applications sur mesure</h2>
				</section>
				
				<section ><h1>Les missions de Focus</h1></section>
				
				<section data-background='http://usabilitygeek.com/wp-content/uploads/2011/07/usability-user-experience-difference.jpg'>
					<h1 class='blackTransparent'>Remettre l'humain au centre UX</h1>
				</section>
				
				<section data-background='https://media.giphy.com/media/W4ZYPB4q4DSbS/giphy.gif'>
					<h1 class='blackTransparent'>Developer Experience DX</h1>
				</section>
				
				<section data-background='http://keithrhiggons.com/wp-content/uploads/2014/09/CHANGES.jpg'>
					<h1 class='redTransparent'>Capter et digérer l'innovation</h1>
				</section>
				
				<section>
					<h1>Objectifs</h1>
				</section>
				
				<section>
					<h3>Faire rapidement et facilement 80% des écrans de l'application</h3>
					<ul>
						<li>Respecter les maquettes</li>
						<li>Composants UX prêt à l'emploi</li>
					</ul>
				</section>
				
				<section>
					<h3>Faire facilement du sur mesure 20% des écrans de l'application</h3>
					<ul>
						<li>Utilisation de React & Flux</li>
					</ul>
				</section>
				
				<section data-background='https://michaeltheroux.files.wordpress.com/2015/01/matrix.png'>
					<h1 class='blackTransparent'>Le bureau Focus</h1>
				</section>
				
				<section data-background='http://www.cosatto.com/blog/wp-content/uploads/2011/08/babyshow_smaller.jpg'>
					<ul class='blackTransparent'>
						<li>Validation de choix avant de se lancer ?</li>
						<li>Validation des maquettes</li>
						<li>Conception technique d'écran</li>
						<li>Pour partager vos bonnes idées</li>
					</ul>
				</section>
				
				<section data-background='http://www.quizz.biz/uploads/quizz/888745/1_98CBQ.jpg'>
					<h2 class='blackTransparent'>Je n'arrive pas à faire rentrer mon écran dans le pattern</h2>
					<ul></ul>
				</section>
				
				<section data-background='http://regmedia.co.uk/2012/04/02/word_2_doc.png'>
					<h2 class='blackTransparent'>Mon client veut un écran un peu funky</h2>

				</section>
				
				<section data-background='http://www.xanetiz.com/images/articles/bugs-connus-histoire1.png'>
					<h2 class='blackTransparent'>Je trouve un bug sur Focus</h2>
				</section>
				
				<section>
					<h2>Des suggestions ou problèmes:</h2>
					<ul>
						<li>focus@kleegroup.com</li>
						<li><a href='http://community-focus.slack.com/'>community-focus #slack</a></li>
					</ul>
				</section>
			</section>

			
			<!-- Section github & eco-système -->
			<section>
				<section data-background='https://assets-cdn.github.com/images/modules/open_graph/github-octocat.png'>
					<h2 class='blackTransparent'>github</h2>
				</section>
				
				<section>
					<h1><a href='https://getfocus.io'>GetFocus.io</a></h1>
				</section>
			
				<section>
					<h1>Les librairies coeur</h1>
					<h2><a href="https://github.com/KleeGroup/focus-core">Focus Core</a></h2>
					<h2><a href="https://github.com/KleeGroup/focus-components">Focus Components</a></h2>
				</section>

				<section>
					<h1>Les extensions</h1>
					<h2><a href="https://github.com/KleeGroup/focus-file">Focus file</a></h2>
					<h2><a href="https://github.com/KleeGroup/focus-notification">Focus Notification</a></h2>
					<h2><a href="https://github.com/KleeGroup/focus-comments">Focus Comments</a></h2>
				</section>

				<section>
					<h1>Documentation</h1>
					<h2><a href="https://github.com/KleeGroup/focus-showcase">Focus Showcase</a></h2>
					<h2><a href="https://github.com/KleeGroup/focus-docs">Focus docs</a></h2>
					<h2><a href="https://github.com/KleeGroup/focus-demo">Focus demo</a></h2>
				</section>

				<section>
					<h1>Outils</h1>
					<h2><a href="https://github.com/KleeGroup/eslint-config-focus">Focus eslint</a></h2>
					<h2><a href="https://github.com/KleeGroup/webpack-focus">Focus webpack</a></h2>
				</section>

				<section>
					<h1><a href='http://kleegroup.github.io/focus-docs/contribute/index.html'>Contribuez à Focus</a></h1>
					<p>issues, PR, doc, articles, tuto, DX, ...</p>
				</section>
			</section>
			
			
			<section data-background='https://media.giphy.com/media/Sq4QZyBwagvle/giphy.gif'><h1>Focus.js</h1></section>
			
			
			<section>
				<section><h1>Le router de l'application</h1></section>
				<section data-markdown>
					## [Router](https://github.com/reactjs/react-router)

					![router](https://cloud.githubusercontent.com/assets/286966/15237848/4daec5de-18d2-11e6-8b77-b5e3387014c9.png)

				</section>
				<section>
					<h1>Et voici l'exemple</h1>
				<section data-markdown>
```javascript
import React from 'react';
import { Route, IndexRoute } from 'react-router';
import AppLayout from '../components/layout'
import HomeRoute from './home-route';
import MasterdataRoutes from './masterdata-routes';
import MoviesRoutes from './movies-route';
import PersonsRoutes from './persons-route';
import SearchRoutes from './advanced-search-route';
import ErrorRoutes from './error-route';

export default {
    path: `${__BASE_URL__}`,
    indexRoute: { onEnter: ({ params }, replace) => replace(`${__BASE_URL__}home`) },
    component: AppLayout,
    childRoutes: [...HomeRoute, ...MasterdataRoutes, ...MoviesRoutes, ...PersonsRoutes, ...SearchRoutes, ...ErrorRoutes]
};

import React from 'react';
import MovieDetailView from '../views/movie/detail';

const route = [
    {
        path: 'movies/:id',
        component: (props) => (<MovieDetailView id={parseInt(props.params.id)} {...props}/>)
    }
];

export default route;
```
				</section>
				</section>
				
			
			</section>
			
			
			<section>
				<section><h1>Les domaines et les définitions</h1></section>
				<section data-markdown>
					## les domaines

					- Responsable de la validation
					- Du composant de rendu (consultation, édition)
					- formatage  des données
					- On peut les utiliser pour le style
					- Utilisation intelligente avec `fieldFor`
				</section>
				<section data-markdown>
## example du domaine do-date.js

```javascript
import moment from 'moment';
import {Date as DateComponent} from 'focus-components/components/input';

export default {
    InputComponent: DateComponent,
    formatter: date => date ? moment(date, moment.ISO_8601).format('DD/MM/YYYY') : '',
    format: ['DD/MM/YYYY', 'DD-MM-YYYY', 'D MMM YYYY']
};
```
				</section>
				<section data-markdown>
					## Les définitions

- Générées depuis le modèle de données
- Lie le modèle de données aux domaines
- Chaque table a des champs
- Chaque champ a un domaine
- Chaque champ porte l'information requis / non requis
				</section>
				<section data-markdown>
## example de définitions

```javascript
export const movie = {
    code: {
        domain: 'DO_ID',
        required: true
    },
    title: {
        domain: 'DO_LABEL_LONG',
        required: true
    },
	creationDate: {
		domain: 'DO_DATE',
		required: false
	}
}

// fieldFor(creationDate)
```
				</section>

			</section>
			
			
			<section>
				<section><h1>Flux by Focus</h1></section>
				<section data-markdown>
					## flux by Facebook

					![flux](https://facebook.github.io/flux/img/flux-simple-f8-diagram-with-client-action-1300w.png)
				</section>
				<section data-markdown>
					## Architecture

![archi](https://cloud.githubusercontent.com/assets/286966/15237742/4df03ccc-18d1-11e6-9753-97777780453b.png)

				</section>
				<section data-markdown>
					# les stores

					![stores](https://s3.amazonaws.com/media-p.slid.es/uploads/52889/images/1647931/store.PNG)
				</section>
				<section data-markdown>
					# Flux

					![flux1](https://s3.amazonaws.com/media-p.slid.es/uploads/52889/images/1647945/focus-flux1.PNG)
				</section>
				<section data-markdown>
					# flux

					![flux2](https://s3.amazonaws.com/media-p.slid.es/uploads/52889/images/1647946/focus-flux2.PNG)
				</section>
				<section data-markdown>
# Service

- Un service est une fonction
- Un service appelle une url construite grâce à [urlbuilder](https://github.com/KleeGroup/focus-core/blob/develop/src/list/action-builder.js)
- Un service retourne une `Promise`
- On peut utiliser la méthode `fetch` de [focus](https://github.com/KleeGroup/focus-core/blob/develop/src/network/fetch.js)
				</section>
				<section>
					<h2>Exemple de service (retourne impérativement une Promise)</h2>
					<pre>
						<code class='javascript'>
import fetch from 'focus-core/network/fetch';
//Fait une reqête ajax
import movieUrl from '../config/server/movies';
// Les urls de ws sont configurées
export default {
    loadMovie(id) {
        return fetch(movieUrl.loadMovie({urlData: {id}}));
    },
    saveMovieSynopsis(data) {
        return fetch(movieUrl.saveMovie({urlData: {id: data.id}, data: {data}}));
    },
    saveMovieCaracteristics(data) {
        return fetch(movieUrl.saveMovie({urlData: {id: data.id}, data: {data}}));
    }
}
						</code>
					</pre>
				</section>
				<section data-markdown>
# store

- Un store est un objet qui contient une grappe de données
- Associé à une notion de grappe d'objet ([corestore](https://github.com/KleeGroup/focus-core/blob/develop/src/store/CoreStore.js))
- Il existe des stores spécialisées ([recherche](https://github.com/KleeGroup/focus-core/tree/develop/src/store/search), [liste](https://github.com/KleeGroup/focus-core/tree/develop/src/store/search))
- Il peut notifier: d'un changement, d'une erreur
- Chaque noeud de données peut avoir un statut
				</section>
				<section>
					<h2>Exemple de store</h2>
					<pre>
						<code class='javascript'>
import {CoreStore} from 'focus-core/store';
const movieStore = new CoreStore({
    definition: {
        movie: 'movie',
		actors: 'actors'
    }
});

export default movieStore;
						</code>
					</pre>
				</section>
				<section data-markdown>
# action

- Une action est une fonction
- Une action doit appeller un service
- Avec le retour (après l'appel serveur)
- Dispatch le résultat dans le `dispatcher`
- On peut utiliser le `actionBuilder` ([detail](https://github.com/KleeGroup/focus-core/blob/develop/src/application/action-builder.js), [recherche](https://github.com/KleeGroup/focus-core/blob/develop/src/search/action-builder.js), [liste](https://github.com/KleeGroup/focus-core/blob/develop/src/list/action-builder.js))
				</section>
				<section>
					<h2>Exemple d'action</h2>
					<pre>
						<code class='javascript'>
import actionBuilder from 'focus-core/application/action-builder';
import {loadMovie, saveMovieSynopsis} from '../services/movie';

export const synopsisActions = {
    load: actionBuilder({
        node: 'movie',
        service: loadMovie,
        shouldDumpStoreOnActionCall: true,
        status: 'loaded'
    }),
    save: actionBuilder({
        node: 'movie',
        service: saveMovieSynopsis,
        shouldDumpStoreOnActionCall: true,
        status: 'saved'
    })
}
						</code>
					</pre>
				</section>
				<section data-background='http://auto.mgl.skyrock.net/art/SHAR.8448.337.2.jpg'>
					<h2>Un exemple de composant mis en musique</h2>
					<pre>
						<code class="javascript">
//librairies
import React, {PropTypes} from 'react';
import FocusComponents from 'focus-components';

// web components
import Panel from 'focus-components/components/panel';
import {mixin as formMixin} from 'focus-components/common/form';

//stores & actions
import movieStore from '../../../stores/movie';
import {caracteristicsActions} from '../../../action/movie';

export default React.createClass({
    displayName: 'MovieCaracteristics',
    propTypes: {
        id: PropTypes.number
    },
    mixins: [formMixin],
    definitionPath: 'movie',
    stores: [{store: movieStore, properties: ['movie']}],
    action: caracteristicsActions,

    /** @inheritDoc */
    renderContent() {
        return (
            <Panel actions={this._renderActions} title='movie.detail.caracteristics'>
                {this.fieldFor('title')}
                {this.fieldFor('originalTitle')}
                {this.fieldFor('keywords')}
                {this.fieldFor('runtime')}
                {this.fieldFor('movieType')}
                {this.fieldFor('productionYear')}
                {this.fieldFor('trailerName')}
                {this.fieldFor('trailerHRef')}
            </Panel>
        );
    }
});
						</code>
					</pre>
				</section>
			</section>
			
			
			<section data-markdown>
	## tutos
	- [Faire une page de détail](http://kleegroup.github.io/focus-docs/tutorial/detail.html)
	- [Faire une page de liste](http://kleegroup.github.io/focus-docs/tutorial/list.html)
			</section>
			
			
			<section data-markdown>
						## Structure applicative

						- [Focus docs](http://kleegroup.github.io/focus-docs/getting-started/starter-kit.html)
						- [Focus demo app](https://github.com/KleeGroup/focus-demo-app)
			</section>
			
			
			<section data-background='https://mtpmcg.files.wordpress.com/2014/07/thanks-b-fr-mtpmcg714-sm-2163.jpg'></section>

		</div>
	</div>

	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.js"></script>
	<script>
		// More info about config & dependencies:
		// - https://github.com/hakimel/reveal.js#configuration
		// - https://github.com/hakimel/reveal.js#dependencies
		Reveal.initialize({
			history: true,
			dependencies: [
				{ src: 'plugin/markdown/marked.js' },
				{ src: 'plugin/markdown/markdown.js' },
				{ src: 'plugin/notes/notes.js', async: true },
				{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
			]
		});
	</script>
</body>
</html>
